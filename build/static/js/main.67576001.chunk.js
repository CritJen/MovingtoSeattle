(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){e.exports={map:"page_map__3tT5X"}},111:function(e,t,n){e.exports={filterColumn:"filters_filterColumn__3Fse5"}},119:function(e,t,n){e.exports={app:"app_app__1nTPo"}},120:function(e,t,n){e.exports={suggestionsColumn:"suggestions_suggestionsColumn__gW1Fj"}},124:function(e,t,n){e.exports=n(214)},129:function(e,t,n){},130:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){"use strict";n.r(t);var a,o=n(1),r=n.n(o),c=n(6),i=n.n(c),s=(n(129),n(130),n(24)),l=n(106),u=n.n(l),d=n(53),g=function(e){return r.a.createElement(r.a.Fragment,null,!e.hovered&&r.a.createElement(d.a,{type:"home",theme:"filled",style:{fontSize:"14px",color:"#4B0082"},onMouseEnter:function(){return e.toggleHovered(e.id)}}),e.hovered&&r.a.createElement(d.a,{type:"star",theme:"twoTone",twoToneColor:"#FF00FF",style:{fontSize:"18px"},onMouseLeave:function(){return e.toggleHovered(e.id)}}))},m=n(11),p=n(38),f=n(10),h=Object(f.b)("addSuggestions"),b=Object(f.b)("toggleHovered"),v=Object(f.c)([],(a={},Object(m.a)(a,h,function(e,t){return t.payload.map(function(e){return Object(p.a)({},e,{hovered:!1})})}),Object(m.a)(a,b,function(e,t){return e.map(function(e){return e.id===t.payload?Object(p.a)({},e,{hovered:!e.hovered}):e})}),a)),y=function(e,t){return{positions:e.map(function(e){return{lat:Math.round(1e4*e.latitude)/1e4,lng:Math.round(1e4*e.longitude)/1e4,weight:t.find(function(t){return t.id===e.category_id}).weight}}),options:{radius:12,opacity:1}}};var j=Object(s.b)(function(e){var t=e.categories,n=e.locations,a=e.suggestions,o=t.filter(function(e){return e.selected});return{selectedCategories:o,suggestions:a,locations:n.filter(function(e){return o.some(function(t){return t.id===e.category_id})})}},{toggleHovered:b})(function(e){var t=e.selectedCategories,n=e.locations,a=e.suggestions,o=e.toggleHovered,c=y(n,t);return r.a.createElement("div",{style:{height:"100vh",width:"100%"}},r.a.createElement(u.a,{bootstrapURLKeys:{key:"AIzaSyC5GtsnQTnxNEJuwDpjgb9laNU8Ta35RLw"},defaultZoom:14,yesIWantToUseGoogleMapApiInternals:!0,style:{mapStyles:{width:"80vh",height:"80%"}},heatmapLibrary:!0,heatmap:c,defaultCenter:{lat:47.6062,lng:-122.3321}},a.map(function(e){return r.a.createElement(g,{key:e.id,id:e.id,lat:e.latitude,lng:e.longitude,show:!0,place:"hello",text:"Hi!",hovered:e.hovered,toggleHovered:o})})))}),E=n(49),O=n(50),w=n(55),C=n(51),_=n(56),M=n(110),k=n.n(M),x=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(w.a)(this,Object(C.a)(t).call(this,e))).toggleResults=function(){n.setState({showingResults:!n.state.showingResults})},n.state={suggestions:[]},n}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mapContainer,n=e.topForm,a=e.suggestions;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:5}},n),r.a.createElement("div",{className:k.a.map},t),r.a.createElement("div",null,a))}}]),t}(r.a.Component);x.defaultProps={};var F=n(216),L=n(215),H=n(111),R=n.n(H);function T(e){var t=e.onToggleCategory,n=e.categories,a=e.onWeightChange;return n.map(function(e){var n=e.selected,o=e.name,c=e.id;return r.a.createElement("div",{className:R.a.filterColumn,key:c},o,r.a.createElement(F.a,{defaultValue:30,disabled:!n,onChange:a(e.id)}),r.a.createElement(L.a,{size:"small",checked:n,onChange:t(e.id)}))})}T.defaultProps={categories:[]};var W,B=n(34),N=Object(f.b)("addCategory"),S=Object(f.b)("toggleCategory"),z=Object(f.b)("removeCategory"),P=Object(f.b)("changeWeight");var I=Object(f.c)([],(W={},Object(m.a)(W,N,function(e,t){return Object(B.a)(t.payload)}),Object(m.a)(W,S,function(e,t){var n=e.find(function(e){return e.id===t.payload});n.selected=!n.selected}),Object(m.a)(W,z,function(e,t){return e.filter(function(e,n){return n!==t.payload.index})}),Object(m.a)(W,P,function(e,t){var n=t.payload.value/100;e.find(function(e){return e.id===t.payload.category}).weight=n}),W)),A=n(217);Number.prototype.toRad=function(){return this*Math.PI/180};function J(e){var t=e.toggleCategory,n=e.categories,a=e.changeWeight,o=e.locations,c=e.properties,i=e.addSuggestions;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{borderBottom:"1px double black",textAlign:"center",paddingBottom:5}},"What would you like to live near?"),r.a.createElement("p",{style:{borderBottom:"1px dashed #333",textAlign:"center",paddingBottom:5}},"Choose as many categories as you like!"),r.a.createElement(T,{onToggleCategory:function(e){return function(n){t(e)}},categories:n,onWeightChange:function(e){return function(t){a({category:e,value:t})}}}),r.a.createElement("br",null),r.a.createElement(A.a,{onClick:function(){var e=function(e,t){return t.map(function(t){return Object(p.a)({},t,{nearbyLocations:e.filter(function(e){var n=e.latitude,a=e.longitude,o=t.latitude,r=t.longitude,c=(n-o).toRad(),i=(a-r).toRad(),s=Math.sin(c/2)*Math.sin(c/2)+Math.cos(o.toRad())*Math.cos(n.toRad())*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371<2})})}).sort(function(e,t){return e.nearbyLocations.length>t.nearbyLocations.length?-1:t.nearbyLocations.length>e.nearbyLocations.length?1:0}).slice(0,10)}(o,c);i(e)}},"Let's find some places!"))}J.defaultProps={};var U=Object(s.b)(function(e){var t=e.categories,n=e.properties,a=e.locations,o=t.filter(function(e){return e.selected});return{categories:t,properties:n,locations:a.filter(function(e){return o.some(function(t){return t.id===e.category_id})})}},{toggleCategory:S,changeWeight:P,addSuggestions:h})(J),q=Object(f.b)("addLocations");var G=Object(f.c)([],Object(m.a)({},q,function(e,t){return Object(B.a)(t.payload)})),$=Object(f.b)("addProperty"),D=Object(f.c)([],Object(m.a)({},$,function(e,t){return Object(B.a)(t.payload)})),K=Object(f.a)({reducer:{locations:G,categories:I,properties:D,suggestions:v}}),Q=n(119),V=n.n(Q),X=(n(213),n(120)),Z=n.n(X),Y=n(83),ee=n.n(Y),te={name:"",address:"",monthly_rent:void 0,bedroom:"",bathroom:""};function ne(e){var t=e.name,n=e.address,a=(e.monthly_rent,e.bedroom),o=e.bathroom,c=e.neighborhood,i=e.link_id,s=e.toggleHovered,l=e.id,u=e.hovered,g=n.replace(/[|&;$%@"<>()+,]/g,""),m="https://www.seattlerentals.com/".concat(c,"/apartments/").concat(i);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(ee.a.card," ").concat(u?ee.a.selected:" "),onMouseEnter:function(){return s(l)},onMouseLeave:function(){return s(l)}},r.a.createElement("span",null,t),r.a.createElement("br",null),r.a.createElement("span",null,g),r.a.createElement("br",null),r.a.createElement("span",null,a," || ",o),r.a.createElement("br",null),r.a.createElement(d.a,{type:"eye",theme:"twoTone",twoToneColor:"#52c41a",onClick:function(){return window.open(m,"_blank")}})))}ne.defaultProps=te;var ae=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(w.a)(this,Object(C.a)(t).call(this,e))).state={suggestedRentals:[]},n}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.toggleHovered;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Z.a.suggestionsColumn},this.props.suggestions.map(function(t){return r.a.createElement(ne,Object.assign({},t,{toggleHovered:e}))})))}}]),t}(r.a.Component);var oe=Object(s.b)(function(e){return{suggestions:e.suggestions}},{toggleHovered:b})(ae);K.dispatch(function(e){fetch("http://ec2-18-217-182-61.us-east-2.compute.amazonaws.com:3000/locations").then(function(e){return e.json()}).then(function(t){return e(q(t))})}),K.dispatch(function(e){fetch("http://ec2-18-217-182-61.us-east-2.compute.amazonaws.com:3000/categories").then(function(e){return e.json()}).then(function(t){return e(N(t))})}),K.dispatch(function(e){fetch("http://ec2-18-217-182-61.us-east-2.compute.amazonaws.com:3000/properties").then(function(e){return e.json()}).then(function(t){return e($(t))})});var re=function(){return r.a.createElement(s.a,{store:K},r.a.createElement("div",{className:V.a.app},r.a.createElement(x,{mapContainer:r.a.createElement(j,null),topForm:r.a.createElement(U,null),suggestions:r.a.createElement(oe,null)})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,t,n){e.exports={card:"homeCard_card__MM5En",selected:"homeCard_selected__2fB4l"}}},[[124,1,2]]]);
//# sourceMappingURL=main.67576001.chunk.js.map